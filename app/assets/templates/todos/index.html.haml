%div{ ng: { include: "'layout_partials/header.html'" } }
.container-fluid
  .row
    .col-lg-6.col-lg-offset-3
      %form{ name: 'todosForm', ng: { submit: 'add(task)' } }
        .form-group
          .input-group
            %input.form-control{ type: 'text', name: 'task', ng: { model: 'task' } }
            %span.input-group-btn
              %button.btn.btn-primary{ type: 'submit' } Do!
  .row
    .col-lg-1.col-lg-offset-2
      %button.btn.btn-secondary{ type: 'button', style: 'margin-top:5px;', ng: { show: 'user.hasTodosToAllocate()', click: 'doLater()' } }
        Later
        %span.octicon.octicon-triangle-right
    .col-lg-6
      .card
        .card-header{ data: { toggle: 'collapse', target: '#todos' }, style: 'cursor:pointer;' } Todos
        .collapse#todos
          .card-block
            %ul.list-group{ ng: { model: 'user.inactiveTodos' }, ui: { sortable: 'sortableOptions' } }
              %li.list-group-item{ ng: { repeat: 'todo in user.inactiveTodos | orderBy: position' } }
                {{ todo.task }}
                %button.close{ type: 'button', aria: { label: 'Close' }, ng: { click: 'remove(todo)' } }
                  %span{ aria: { hidden: 'true' } } &times;
  .row
    .col-lg-1.col-lg-offset-2
      %button.btn.btn-secondary{ type: 'button', style: 'margin-top:5px;', ng: { show: 'user.hasTodosToAllocate()', click: 'doNow()' } }
        Now
        %span.octicon.octicon-triangle-right
    .col-lg-6
      %ul.list-group{ ng: { model: 'user.activeTodos' }, ui: { sortable: 'sortableOptions' } }
        %li.list-group-item.fade-todo{ ng: { repeat: 'todo in user.activeTodos | filter: uncompletedTodos' } }
          %input{ type: 'checkbox', ng: { model: 'todo.completed' } }
          {{ todo.task }}
